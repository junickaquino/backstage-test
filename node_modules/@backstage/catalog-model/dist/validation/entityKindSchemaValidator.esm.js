import { compileAjvSchema, throwAjvError } from './ajv.esm.js';

function entityKindSchemaValidator(schema) {
  const validate = compileAjvSchema(schema);
  return (data) => {
    var _a;
    const result = validate(data);
    if (result === true) {
      return data;
    }
    const softCandidates = (_a = validate.errors) == null ? void 0 : _a.filter(
      (e) => ["/kind", "/apiVersion"].includes(e.instancePath)
    );
    if ((softCandidates == null ? void 0 : softCandidates.length) && softCandidates.every((e) => e.keyword === "enum")) {
      return false;
    }
    throw throwAjvError(validate.errors);
  };
}

export { entityKindSchemaValidator };
//# sourceMappingURL=entityKindSchemaValidator.esm.js.map
