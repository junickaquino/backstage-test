import { useMemo } from 'react';
import { useLocation } from 'react-router-dom';
import '../apis/definitions/AppTreeApi.esm.js';
import { useApi } from '@backstage/core-plugin-api';
import '../apis/definitions/ComponentsApi.esm.js';
import '../apis/definitions/IconsApi.esm.js';
import { routeResolutionApiRef } from '../apis/definitions/RouteResolutionApi.esm.js';
import '../apis/definitions/AnalyticsApi.esm.js';

function useRouteRef(routeRef) {
  const { pathname } = useLocation();
  const routeResolutionApi = useApi(routeResolutionApiRef);
  const routeFunc = useMemo(
    () => routeResolutionApi.resolve(routeRef, { sourcePath: pathname }),
    [routeResolutionApi, routeRef, pathname]
  );
  const isOptional = "optional" in routeRef && routeRef.optional;
  if (!routeFunc && !isOptional) {
    throw new Error(`No path for ${routeRef}`);
  }
  return routeFunc;
}

export { useRouteRef };
//# sourceMappingURL=useRouteRef.esm.js.map
