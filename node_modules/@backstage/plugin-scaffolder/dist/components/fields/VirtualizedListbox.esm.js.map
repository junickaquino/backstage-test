{"version":3,"file":"VirtualizedListbox.esm.js","sources":["../../../src/components/fields/VirtualizedListbox.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { FixedSizeList, ListChildComponentProps } from 'react-window';\n\nconst renderRow = (props: ListChildComponentProps) => {\n  const { data, index, style } = props;\n  return React.cloneElement(data[index], { style });\n};\n\nexport const VirtualizedListbox = React.forwardRef<\n  HTMLDivElement,\n  { children?: React.ReactNode }\n>((props, ref) => {\n  const itemData = React.Children.toArray(props.children);\n  const itemCount = itemData.length;\n\n  const itemSize = 36;\n\n  const itemsToShow = Math.min(10, itemCount);\n  const height = Math.max(itemSize, itemsToShow * itemSize - 0.5 * itemSize);\n\n  return (\n    <div ref={ref}>\n      <FixedSizeList\n        height={height}\n        itemData={itemData}\n        itemCount={itemCount}\n        itemSize={itemSize}\n        width=\"100%\"\n      >\n        {renderRow}\n      </FixedSizeList>\n    </div>\n  );\n});\n"],"names":[],"mappings":";;;AAmBA,MAAM,SAAA,GAAY,CAAC,KAAmC,KAAA;AACpD,EAAA,MAAM,EAAE,IAAA,EAAM,KAAO,EAAA,KAAA,EAAU,GAAA,KAAA,CAAA;AAC/B,EAAA,OAAO,MAAM,YAAa,CAAA,IAAA,CAAK,KAAK,CAAG,EAAA,EAAE,OAAO,CAAA,CAAA;AAClD,CAAA,CAAA;AAEO,MAAM,kBAAqB,GAAA,KAAA,CAAM,UAGtC,CAAA,CAAC,OAAO,GAAQ,KAAA;AAChB,EAAA,MAAM,QAAW,GAAA,KAAA,CAAM,QAAS,CAAA,OAAA,CAAQ,MAAM,QAAQ,CAAA,CAAA;AACtD,EAAA,MAAM,YAAY,QAAS,CAAA,MAAA,CAAA;AAE3B,EAAA,MAAM,QAAW,GAAA,EAAA,CAAA;AAEjB,EAAA,MAAM,WAAc,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,EAAI,SAAS,CAAA,CAAA;AAC1C,EAAA,MAAM,SAAS,IAAK,CAAA,GAAA,CAAI,UAAU,WAAc,GAAA,QAAA,GAAW,MAAM,QAAQ,CAAA,CAAA;AAEzE,EACE,uBAAA,KAAA,CAAA,aAAA,CAAC,SAAI,GACH,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,MAAA;AAAA,MACA,QAAA;AAAA,MACA,SAAA;AAAA,MACA,QAAA;AAAA,MACA,KAAM,EAAA,MAAA;AAAA,KAAA;AAAA,IAEL,SAAA;AAAA,GAEL,CAAA,CAAA;AAEJ,CAAC;;;;"}