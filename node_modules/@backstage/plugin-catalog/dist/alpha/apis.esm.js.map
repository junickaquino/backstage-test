{"version":3,"file":"apis.esm.js","sources":["../../src/alpha/apis.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createApiFactory,\n  discoveryApiRef,\n  fetchApiRef,\n  storageApiRef,\n} from '@backstage/core-plugin-api';\nimport { CatalogClient } from '@backstage/catalog-client';\nimport { createApiExtension } from '@backstage/frontend-plugin-api';\nimport {\n  catalogApiRef,\n  entityPresentationApiRef,\n  starredEntitiesApiRef,\n} from '@backstage/plugin-catalog-react';\nimport {\n  DefaultEntityPresentationApi,\n  DefaultStarredEntitiesApi,\n} from '../apis';\n\nexport const catalogApi = createApiExtension({\n  factory: createApiFactory({\n    api: catalogApiRef,\n    deps: {\n      discoveryApi: discoveryApiRef,\n      fetchApi: fetchApiRef,\n    },\n    factory: ({ discoveryApi, fetchApi }) =>\n      new CatalogClient({ discoveryApi, fetchApi }),\n  }),\n});\n\nexport const catalogStarredEntitiesApi = createApiExtension({\n  factory: createApiFactory({\n    api: starredEntitiesApiRef,\n    deps: { storageApi: storageApiRef },\n    factory: ({ storageApi }) => new DefaultStarredEntitiesApi({ storageApi }),\n  }),\n});\n\nexport const entityPresentationApi = createApiExtension({\n  factory: createApiFactory({\n    api: entityPresentationApiRef,\n    deps: { catalogApiImp: catalogApiRef },\n    factory: ({ catalogApiImp }) =>\n      DefaultEntityPresentationApi.create({ catalogApi: catalogApiImp }),\n  }),\n});\n\nexport default [catalogApi, catalogStarredEntitiesApi, entityPresentationApi];\n"],"names":[],"mappings":";;;;;;;AAkCO,MAAM,aAAa,kBAAmB,CAAA;AAAA,EAC3C,SAAS,gBAAiB,CAAA;AAAA,IACxB,GAAK,EAAA,aAAA;AAAA,IACL,IAAM,EAAA;AAAA,MACJ,YAAc,EAAA,eAAA;AAAA,MACd,QAAU,EAAA,WAAA;AAAA,KACZ;AAAA,IACA,OAAA,EAAS,CAAC,EAAE,YAAc,EAAA,QAAA,EACxB,KAAA,IAAI,aAAc,CAAA,EAAE,YAAc,EAAA,QAAA,EAAU,CAAA;AAAA,GAC/C,CAAA;AACH,CAAC,EAAA;AAEM,MAAM,4BAA4B,kBAAmB,CAAA;AAAA,EAC1D,SAAS,gBAAiB,CAAA;AAAA,IACxB,GAAK,EAAA,qBAAA;AAAA,IACL,IAAA,EAAM,EAAE,UAAA,EAAY,aAAc,EAAA;AAAA,IAClC,OAAA,EAAS,CAAC,EAAE,UAAA,OAAiB,IAAI,yBAAA,CAA0B,EAAE,UAAA,EAAY,CAAA;AAAA,GAC1E,CAAA;AACH,CAAC,EAAA;AAEM,MAAM,wBAAwB,kBAAmB,CAAA;AAAA,EACtD,SAAS,gBAAiB,CAAA;AAAA,IACxB,GAAK,EAAA,wBAAA;AAAA,IACL,IAAA,EAAM,EAAE,aAAA,EAAe,aAAc,EAAA;AAAA,IACrC,OAAA,EAAS,CAAC,EAAE,aAAc,EAAA,KACxB,6BAA6B,MAAO,CAAA,EAAE,UAAY,EAAA,aAAA,EAAe,CAAA;AAAA,GACpE,CAAA;AACH,CAAC,EAAA;AAED,WAAe,CAAC,UAAY,EAAA,yBAAA,EAA2B,qBAAqB,CAAA;;;;"}