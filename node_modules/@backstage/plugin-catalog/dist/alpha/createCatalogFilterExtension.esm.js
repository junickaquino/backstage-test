import React, { lazy } from 'react';
import { createExtension, coreExtensionData, ExtensionBoundary } from '@backstage/frontend-plugin-api';

function createCatalogFilterExtension(options) {
  return createExtension({
    kind: "catalog-filter",
    namespace: options.namespace,
    name: options.name,
    attachTo: { id: "page:catalog", input: "filters" },
    inputs: options.inputs ?? {},
    configSchema: options.configSchema,
    output: {
      element: coreExtensionData.reactElement
    },
    factory({ config, node }) {
      const ExtensionComponent = lazy(
        () => options.loader({ config }).then((element) => ({ default: () => element }))
      );
      return {
        element: /* @__PURE__ */ React.createElement(ExtensionBoundary, { node }, /* @__PURE__ */ React.createElement(ExtensionComponent, null))
      };
    }
  });
}

export { createCatalogFilterExtension };
//# sourceMappingURL=createCatalogFilterExtension.esm.js.map
