{"version":3,"file":"createCatalogFilterExtension.esm.js","sources":["../../src/alpha/createCatalogFilterExtension.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { lazy } from 'react';\nimport {\n  AnyExtensionInputMap,\n  ExtensionBoundary,\n  PortableSchema,\n  coreExtensionData,\n  createExtension,\n} from '@backstage/frontend-plugin-api';\n\n/** @alpha */\nexport function createCatalogFilterExtension<\n  TInputs extends AnyExtensionInputMap,\n  TConfig = never,\n>(options: {\n  namespace?: string;\n  name?: string;\n  inputs?: TInputs;\n  configSchema?: PortableSchema<TConfig>;\n  loader: (options: { config: TConfig }) => Promise<JSX.Element>;\n}) {\n  return createExtension({\n    kind: 'catalog-filter',\n    namespace: options.namespace,\n    name: options.name,\n    attachTo: { id: 'page:catalog', input: 'filters' },\n    inputs: options.inputs ?? {},\n    configSchema: options.configSchema,\n    output: {\n      element: coreExtensionData.reactElement,\n    },\n    factory({ config, node }) {\n      const ExtensionComponent = lazy(() =>\n        options\n          .loader({ config })\n          .then(element => ({ default: () => element })),\n      );\n\n      return {\n        element: (\n          <ExtensionBoundary node={node}>\n            <ExtensionComponent />\n          </ExtensionBoundary>\n        ),\n      };\n    },\n  });\n}\n"],"names":[],"mappings":";;;AA0BO,SAAS,6BAGd,OAMC,EAAA;AACD,EAAA,OAAO,eAAgB,CAAA;AAAA,IACrB,IAAM,EAAA,gBAAA;AAAA,IACN,WAAW,OAAQ,CAAA,SAAA;AAAA,IACnB,MAAM,OAAQ,CAAA,IAAA;AAAA,IACd,QAAU,EAAA,EAAE,EAAI,EAAA,cAAA,EAAgB,OAAO,SAAU,EAAA;AAAA,IACjD,MAAA,EAAQ,OAAQ,CAAA,MAAA,IAAU,EAAC;AAAA,IAC3B,cAAc,OAAQ,CAAA,YAAA;AAAA,IACtB,MAAQ,EAAA;AAAA,MACN,SAAS,iBAAkB,CAAA,YAAA;AAAA,KAC7B;AAAA,IACA,OAAQ,CAAA,EAAE,MAAQ,EAAA,IAAA,EAAQ,EAAA;AACxB,MAAA,MAAM,kBAAqB,GAAA,IAAA;AAAA,QAAK,MAC9B,OAAA,CACG,MAAO,CAAA,EAAE,MAAO,EAAC,CACjB,CAAA,IAAA,CAAK,CAAY,OAAA,MAAA,EAAE,OAAS,EAAA,MAAM,SAAU,CAAA,CAAA;AAAA,OACjD,CAAA;AAEA,MAAO,OAAA;AAAA,QACL,yBACG,KAAA,CAAA,aAAA,CAAA,iBAAA,EAAA,EAAkB,IACjB,EAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,wBAAmB,CACtB,CAAA;AAAA,OAEJ,CAAA;AAAA,KACF;AAAA,GACD,CAAA,CAAA;AACH;;;;"}